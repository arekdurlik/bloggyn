.transitioning {
    @media (prefers-reduced-motion: reduce) {
        --transition-theme: none;
    }

    --transition-fast: var(--transition-theme);
    --transition-default: var(--transition-theme);
    --transition-slow: var(--transition-theme);
    --transition-sloth: var(--transition-theme);
    --control-default-transition: var(--transition-theme);

    * {
        transition: none !important;
    }

    .theme-switcher {
        transition: height var(--transition-theme), border-color var(--transition-theme) !important;
    }

    div,
    nav,
    header,
    a:has(span),
    button {
        $transition: background-color var(--transition-theme), border-color var(--transition-theme) !important;

        transition: $transition;

        &::before,
        &::after {
            transition: $transition;
        }

        & > span > svg:not([fill='none']) {
            transition: fill var(--transition-theme) !important;
        }
    }

    textarea {
        &:not(:empty) {
            transition: color var(--transition-theme) !important;
        }
        &::placeholder {
            transition: color var(--transition-theme);
        }
    }

    h1,
    h2,
    h3,
    h4,
    a:not(:has(span)),
    span:not(:has(svg)),
    label {
        transition: background-color var(--transition-theme), color var(--transition-theme),
            border-color var(--transition-theme) !important;

        & > * {
            transition: none !important;
        }
    }

    svg {
        transition: color var(--transition-theme), stroke var(--transition-theme),
            fill var(--transition-theme) !important;
        & > * {
            transition: none !important;
        }
    }

    input {
        transition: background-color var(--transition-theme), border-color var(--transition-theme),
            color var(--transition-theme) !important;
    }

    .theme-switcher {
        transition: background-color var(--transition-theme), border-color var(--transition-theme),
            height var(--transition-theme);
    }
}
